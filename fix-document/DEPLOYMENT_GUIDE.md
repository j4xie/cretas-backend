# ğŸš€ éƒ¨ç½²æŒ‡å—

## ğŸ“‹ å‡†å¤‡å·¥ä½œ

å·²å®Œæˆçš„å·¥ä½œï¼š
- âœ… JARåŒ…å·²ç¼–è¯‘: `/Users/jietaoxie/Downloads/cretas-backend-system-main/target/cretas-backend-system-1.0.0.jar`
- âœ… SQLåˆå§‹åŒ–è„šæœ¬å·²åˆ›å»º: `fix-document/init-final-users.sql`
- âœ… æµ‹è¯•è„šæœ¬å·²åˆ›å»º: `fix-document/test-all-accounts.sh`

## ğŸ”§ éƒ¨ç½²æ­¥éª¤

### æ­¥éª¤1: ä¸Šä¼ æ–‡ä»¶åˆ°æœåŠ¡å™¨

éœ€è¦ä¸Šä¼ çš„æ–‡ä»¶ï¼š
1. `cretas-backend-system-1.0.0.jar` â†’ `/www/wwwroot/cretas/`
2. `init-final-users.sql` â†’ `/www/wwwroot/cretas/`
3. `test-all-accounts.sh` â†’ `/www/wwwroot/cretas/`

**æ‰‹åŠ¨ä¸Šä¼ æ–¹å¼**ï¼š
- ä½¿ç”¨å®å¡”é¢æ¿ç½‘é¡µç•Œé¢ä¸Šä¼ 
- æˆ–ä½¿ç”¨FTP/SFTPå®¢æˆ·ç«¯ä¸Šä¼ 

### æ­¥éª¤2: åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡ŒSQLåˆå§‹åŒ–

ç™»å½•åˆ°æœåŠ¡å™¨åï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```bash
# è¿›å…¥ç›®å½•
cd /www/wwwroot/cretas

# æ‰§è¡ŒSQLè„šæœ¬ï¼ˆéœ€è¦MySQLå¯†ç ï¼‰
mysql -u root -p cretas < init-final-users.sql
```

**æˆ–è€…ä½¿ç”¨å®å¡”çš„phpMyAdmin**ï¼š
1. æ‰“å¼€å®å¡”é¢æ¿ â†’ æ•°æ®åº“ â†’ phpMyAdmin
2. é€‰æ‹© `cretas` æ•°æ®åº“
3. ç‚¹å‡» "SQL" æ ‡ç­¾é¡µ
4. ç²˜è´´ `init-final-users.sql` çš„å†…å®¹
5. ç‚¹å‡» "æ‰§è¡Œ"

### æ­¥éª¤3: é‡å¯Spring Bootåº”ç”¨

```bash
cd /www/wwwroot/cretas
bash restart.sh
```

### æ­¥éª¤4: æµ‹è¯•æ‰€æœ‰è´¦å·

```bash
cd /www/wwwroot/cretas
bash test-all-accounts.sh
```

## ğŸ“ åˆ›å»ºçš„è´¦å·

### å¹³å°ç®¡ç†å‘˜ (3ä¸ª)
| ç”¨æˆ·å | å¯†ç  | è§’è‰² | è¯´æ˜ |
|--------|------|------|------|
| admin | 123456 | super_admin | è¶…çº§ç®¡ç†å‘˜ |
| developer | 123456 | developer | å¼€å‘è€… |
| platform_admin | 123456 | platform_admin | å¹³å°ç®¡ç†å‘˜ |

### å·¥å‚ç”¨æˆ· (5ä¸ª - å·¥å‚F001)
| ç”¨æˆ·å | å¯†ç  | è§’è‰² | éƒ¨é—¨ | è¯´æ˜ |
|--------|------|------|------|------|
| perm_admin | 123456 | permission_admin | management | æƒé™ç®¡ç†å‘˜ |
| proc_admin | 123456 | department_admin | processing | åŠ å·¥ç®¡ç†å‘˜ |
| farm_admin | 123456 | department_admin | farming | å…»æ®–ç®¡ç†å‘˜ |
| logi_admin | 123456 | department_admin | logistics | ç‰©æµç®¡ç†å‘˜ |
| proc_user | 123456 | operator | processing | åŠ å·¥æ“ä½œå‘˜ |

## ğŸ§ª æ‰‹åŠ¨æµ‹è¯•

### æµ‹è¯•ç™»å½•ï¼ˆä¸éœ€è¦factoryIdï¼‰

```bash
# æµ‹è¯•å¹³å°ç®¡ç†å‘˜
curl -X POST http://106.14.165.234:10010/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username": "admin", "password": "123456"}'

# æµ‹è¯•å·¥å‚ç”¨æˆ·
curl -X POST http://106.14.165.234:10010/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username": "proc_admin", "password": "123456"}'
```

### æµ‹è¯•æ³¨å†Œï¼ˆä½¿ç”¨ç™½åå•æ‰‹æœºå·ï¼‰

```bash
# 1. å…ˆè·å–éªŒè¯ç ï¼ˆæ¨¡æ‹Ÿï¼‰
# 2. è·å–ä¸´æ—¶token
# 3. æ³¨å†Œè´¦å·ï¼ˆfactoryIdå¯é€‰ï¼‰
curl -X POST http://106.14.165.234:10010/api/auth/register \
  -H "Content-Type: application/json" \
  -d '{
    "tempToken": "your_temp_token_here",
    "username": "newuser",
    "password": "123456"
  }'
```

## âœ… éªŒè¯æ¸…å•

- [ ] SQLè„šæœ¬æ‰§è¡ŒæˆåŠŸï¼Œæ²¡æœ‰é”™è¯¯
- [ ] æ•°æ®åº“ä¸­æœ‰3ä¸ªå¹³å°ç®¡ç†å‘˜
- [ ] æ•°æ®åº“ä¸­æœ‰5ä¸ªå·¥å‚ç”¨æˆ·
- [ ] å·¥å‚F001å·²åˆ›å»º
- [ ] ç™½åå•ä¸­æœ‰3æ¡è®°å½•
- [ ] JARæ–‡ä»¶å·²æ›¿æ¢
- [ ] åº”ç”¨å·²é‡å¯
- [ ] æ‰€æœ‰8ä¸ªè´¦å·éƒ½èƒ½æˆåŠŸç™»å½•
- [ ] ç™»å½•ä¸éœ€è¦ä¼ å…¥factoryIdå‚æ•°
- [ ] å“åº”ä¸­åŒ…å«æ­£ç¡®çš„tokenå’Œç”¨æˆ·ä¿¡æ¯

## ğŸ› æ•…éšœæ’æŸ¥

### é—®é¢˜1: SQLæ‰§è¡Œå¤±è´¥
- æ£€æŸ¥MySQLæœåŠ¡æ˜¯å¦è¿è¡Œ
- æ£€æŸ¥æ•°æ®åº“åç§°æ˜¯å¦ä¸º `cretas`
- æ£€æŸ¥æ˜¯å¦æœ‰è¶³å¤Ÿçš„æƒé™

### é—®é¢˜2: ç™»å½•å¤±è´¥
- æ£€æŸ¥åº”ç”¨æ˜¯å¦æˆåŠŸé‡å¯
- æŸ¥çœ‹æ—¥å¿—: `tail -f /www/wwwroot/cretas/cretas-backend.log`
- ç¡®è®¤ç«¯å£10010æ˜¯å¦å¼€æ”¾

### é—®é¢˜3: å¯†ç ä¸åŒ¹é…
- ç¡®è®¤SQLè„šæœ¬æ‰§è¡ŒæˆåŠŸ
- æ£€æŸ¥password_hashå­—æ®µæ˜¯å¦æ­£ç¡®æ›´æ–°
- å°è¯•é‡æ–°æ‰§è¡ŒSQLè„šæœ¬

## ğŸ“± ç™½åå•æ‰‹æœºå·ï¼ˆç”¨äºæ³¨å†Œæµ‹è¯•ï¼‰

| æ‰‹æœºå· | å§“å | éƒ¨é—¨ | æœ€å¤§ä½¿ç”¨æ¬¡æ•° |
|--------|------|------|------------|
| 13800138000 | å¼ ä¸‰ | æŠ€æœ¯éƒ¨ | æ— é™åˆ¶ |
| 13800138001 | æå›› | äº§å“éƒ¨ | æ— é™åˆ¶ |
| 13800138002 | ç‹äº” | è¿è¥éƒ¨ | 3æ¬¡ |

## ğŸ¯ ä¸‹ä¸€æ­¥

å®Œæˆéƒ¨ç½²åï¼Œæ‚¨å¯ä»¥ï¼š
1. ä½¿ç”¨React Nativeåº”ç”¨æµ‹è¯•ç™»å½•åŠŸèƒ½
2. æµ‹è¯•æ³¨å†Œæµç¨‹
3. æµ‹è¯•å„ç§è§’è‰²çš„æƒé™
4. è¿›è¡Œç«¯åˆ°ç«¯çš„åŠŸèƒ½æµ‹è¯•
