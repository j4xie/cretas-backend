# AIMS ç™»å½•æ³¨å†ŒåŠŸèƒ½æµ‹è¯•æµç¨‹

## ğŸ“‹ ç›®å½•
1. [ç¯å¢ƒå‡†å¤‡](#ç¯å¢ƒå‡†å¤‡)
2. [å¯åŠ¨å‰æ£€æŸ¥](#å¯åŠ¨å‰æ£€æŸ¥)
3. [å¯åŠ¨åº”ç”¨](#å¯åŠ¨åº”ç”¨)
4. [æµ‹è¯•æµç¨‹](#æµ‹è¯•æµç¨‹)
5. [Swaggeræµ‹è¯•](#swaggeræµ‹è¯•)
6. [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

---

## ä¸€ã€ç¯å¢ƒå‡†å¤‡

### 1.1 å¿…éœ€æœåŠ¡

#### âœ… MySQLæ•°æ®åº“
```bash
# æ•°æ®åº“ä¿¡æ¯ï¼ˆå·²é…ç½®ï¼‰
Host: 47.251.121.76:3307
Database: cretas
Username: root
Password: Zyh123456
```

#### âš ï¸ RedisæœåŠ¡ï¼ˆé‡è¦ï¼ï¼‰
```bash
# å®‰è£…Redisï¼ˆmacOSï¼‰
brew install redis

# å¯åŠ¨Redis
brew services start redis

# æˆ–ä¸´æ—¶å¯åŠ¨
redis-server

# éªŒè¯Redisè¿è¡Œ
redis-cli ping
# åº”è¿”å›: PONG
```

**ä¸ºä»€ä¹ˆéœ€è¦Redis?**
- å­˜å‚¨çŸ­ä¿¡éªŒè¯ç ï¼ˆ5åˆ†é’Ÿè¿‡æœŸï¼‰
- å­˜å‚¨ä¸´æ—¶ä»¤ç‰Œï¼ˆ30åˆ†é’Ÿè¿‡æœŸï¼‰
- å¦‚æœRedisæœªå¯åŠ¨ï¼Œæ³¨å†ŒåŠŸèƒ½å°†æ— æ³•ä½¿ç”¨

### 1.2 æ•°æ®åº“è¡¨å‡†å¤‡

#### åˆ›å»ºplatform_adminsè¡¨

```sql
-- è¿æ¥åˆ°æ•°æ®åº“
USE cretas;

-- åˆ›å»ºå¹³å°ç®¡ç†å‘˜è¡¨
CREATE TABLE IF NOT EXISTS platform_admins (
    id INT AUTO_INCREMENT PRIMARY KEY,
    username VARCHAR(50) NOT NULL UNIQUE,
    password_hash VARCHAR(255) NOT NULL,
    real_name VARCHAR(100) NOT NULL,
    email VARCHAR(255),
    phone_number VARCHAR(20),
    platform_role VARCHAR(50) NOT NULL,
    status VARCHAR(20) NOT NULL DEFAULT 'active',
    last_login_at DATETIME,
    last_login_ip VARCHAR(45),
    created_at DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    remarks TEXT,
    INDEX idx_username (username),
    INDEX idx_email (email),
    INDEX idx_status (status)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- æ’å…¥æµ‹è¯•ç®¡ç†å‘˜è´¦æˆ·ï¼ˆå¯†ç : admin123ï¼‰
INSERT INTO platform_admins (username, password_hash, real_name, platform_role, status)
VALUES ('platform_admin', '$2a$10$N.zmdr9k7uOCQb376NoUnuTJ8iAt6Z2W5f8vGXOFoT1.QL31/8.W6', 'ç³»ç»Ÿç®¡ç†å‘˜', 'super_admin', 'active');
```

#### æ’å…¥æµ‹è¯•ç™½åå•æ•°æ®

```sql
-- æ’å…¥æµ‹è¯•ç™½åå•ï¼ˆç”¨äºæ³¨å†Œæµ‹è¯•ï¼‰
INSERT INTO whitelist (factory_id, phone_number, name, department, position, status, added_by, created_at, updated_at)
VALUES
('F001', '13800138000', 'å¼ ä¸‰', 'æŠ€æœ¯éƒ¨', 'å·¥ç¨‹å¸ˆ', 'ACTIVE', 1, NOW(), NOW()),
('F001', '13800138001', 'æå››', 'äº§å“éƒ¨', 'äº§å“ç»ç†', 'ACTIVE', 1, NOW(), NOW()),
('F001', '13800138002', 'ç‹äº”', 'è¿è¥éƒ¨', 'è¿è¥ä¸“å‘˜', 'ACTIVE', 1, NOW(), NOW());
```

#### æ£€æŸ¥å·¥å‚æ•°æ®

```sql
-- ç¡®ä¿æœ‰æµ‹è¯•å·¥å‚
SELECT * FROM factory WHERE id = 'F001';

-- å¦‚æœæ²¡æœ‰ï¼Œæ’å…¥æµ‹è¯•å·¥å‚
INSERT INTO factory (id, name, address, contact_person, contact_phone, created_at, updated_at)
VALUES ('F001', 'æµ‹è¯•å·¥å‚', 'åŒ—äº¬å¸‚æœé˜³åŒº', 'ç®¡ç†å‘˜', '010-12345678', NOW(), NOW());
```

---

## äºŒã€å¯åŠ¨å‰æ£€æŸ¥

### 2.1 æ£€æŸ¥æ¸…å•

```bash
# 1. æ£€æŸ¥Javaç‰ˆæœ¬
java -version
# åº”è¯¥æ˜¯ Java 1.8 æˆ–æ›´é«˜

# 2. æ£€æŸ¥Maven
mvn -version

# 3. æ£€æŸ¥Redis
redis-cli ping
# åº”è¿”å›: PONG

# 4. æ£€æŸ¥MySQLè¿æ¥
mysql -h 47.251.121.76 -P 3307 -u root -pZyh123456 -e "SELECT 1;"

# 5. ç¼–è¯‘é¡¹ç›®
cd /Users/eason/Documents/AIMSé¡¹ç›®/AIMS_2.0/cretas-backend-system
mvn clean compile
```

### 2.2 é…ç½®æ£€æŸ¥

ç¡®è®¤ `application.yml` é…ç½®æ­£ç¡®ï¼š
- âœ… æ•°æ®åº“è¿æ¥ä¿¡æ¯
- âœ… Redisè¿æ¥ï¼ˆlocalhost:6379ï¼‰
- âœ… JWTå¯†é’¥é…ç½®
- âœ… æ—¥å¿—çº§åˆ«

---

## ä¸‰ã€å¯åŠ¨åº”ç”¨

### 3.1 å‘½ä»¤è¡Œå¯åŠ¨

```bash
cd /Users/eason/Documents/AIMSé¡¹ç›®/AIMS_2.0/cretas-backend-system

# æ–¹å¼1: ä½¿ç”¨Maven
mvn spring-boot:run

# æ–¹å¼2: æ‰“åŒ…åè¿è¡Œ
mvn clean package -DskipTests
java -jar target/cretas-backend-system-1.0.0.jar
```

### 3.2 å¯åŠ¨æˆåŠŸæ ‡å¿—

çœ‹åˆ°ä»¥ä¸‹æ—¥å¿—è¡¨ç¤ºå¯åŠ¨æˆåŠŸï¼š
```
Started AimsApplication in X.XXX seconds
Tomcat started on port(s): 10010 (http)
```

### 3.3 éªŒè¯æœåŠ¡

```bash
# å¥åº·æ£€æŸ¥
curl http://localhost:10010/actuator/health

# åº”è¿”å›:
# {"status":"UP"}
```

---

## å››ã€æµ‹è¯•æµç¨‹

### æµ‹è¯•æµç¨‹A: å·¥å‚ç”¨æˆ·æ³¨å†Œç™»å½•ï¼ˆå®Œæ•´æµç¨‹ï¼‰

#### Step 1: å‘é€éªŒè¯ç 
```bash
curl -X POST http://localhost:10010/api/auth/send-code \
  -H "Content-Type: application/json" \
  -d '{"phoneNumber": "13800138000"}'
```

**é¢„æœŸå“åº”:**
```json
{
  "success": true,
  "message": "éªŒè¯ç å·²å‘é€",
  "data": null
}
```

**æ³¨æ„:** éªŒè¯ç ä¼šåœ¨æ—¥å¿—ä¸­æ‰“å°ï¼ˆå¼€å‘ç¯å¢ƒï¼‰

#### Step 2: éªŒè¯æ‰‹æœºå·
```bash
curl -X POST http://localhost:10010/api/auth/verify-phone \
  -H "Content-Type: application/json" \
  -d '{
    "phoneNumber": "13800138000",
    "verificationCode": "123456",
    "factoryId": "F001"
  }'
```

**é¢„æœŸå“åº”:**
```json
{
  "success": true,
  "message": "éªŒè¯æˆåŠŸ",
  "data": {
    "tempToken": "temp_xxxx...",
    "expiresAt": 1234567890000,
    "phoneNumber": "13800138000",
    "isNewUser": true
  }
}
```

**ä¿å­˜tempTokenç”¨äºä¸‹ä¸€æ­¥ï¼**

#### Step 3: å®Œæˆæ³¨å†Œ
```bash
curl -X POST http://localhost:10010/api/auth/register \
  -H "Content-Type: application/json" \
  -d '{
    "tempToken": "temp_xxxx...",
    "factoryId": "F001",
    "username": "zhangsan",
    "password": "password123",
    "realName": "å¼ ä¸‰",
    "email": "zhangsan@example.com",
    "position": "å·¥ç¨‹å¸ˆ"
  }'
```

**é¢„æœŸå“åº”:**
```json
{
  "success": true,
  "message": "æ³¨å†ŒæˆåŠŸ",
  "data": {
    "user": {
      "id": 1,
      "username": "zhangsan",
      "factoryId": "F001",
      ...
    },
    "accessToken": "eyJhbGc...",
    "refreshToken": "...",
    "tokenType": "Bearer",
    "expiresIn": 86400,
    "message": "æ³¨å†ŒæˆåŠŸï¼Œè¯·ç­‰å¾…ç®¡ç†å‘˜æ¿€æ´»æ‚¨çš„è´¦æˆ·"
  }
}
```

#### Step 4: æ¿€æ´»ç”¨æˆ·ï¼ˆæ•°æ®åº“æ“ä½œï¼‰
```sql
-- ç®¡ç†å‘˜æ¿€æ´»ç”¨æˆ·
UPDATE users
SET is_active = TRUE, role_code = 'operator'
WHERE username = 'zhangsan' AND factory_id = 'F001';
```

#### Step 5: ç”¨æˆ·ç™»å½•
```bash
curl -X POST http://localhost:10010/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{
    "factoryId": "F001",
    "username": "zhangsan",
    "password": "password123"
  }'
```

**é¢„æœŸå“åº”:**
```json
{
  "success": true,
  "message": "ç™»å½•æˆåŠŸ",
  "data": {
    "accessToken": "eyJhbGc...",
    "refreshToken": "...",
    "tokenType": "Bearer",
    "expiresIn": 86400,
    "user": {
      "id": 1,
      "username": "zhangsan",
      "factoryId": "F001",
      ...
    },
    "permissions": {
      "modules": {...},
      "features": [...],
      "role": "operator"
    }
  }
}
```

**ä¿å­˜accessTokenç”¨äºåç»­è®¤è¯è¯·æ±‚ï¼**

#### Step 6: è·å–ç”¨æˆ·ä¿¡æ¯
```bash
curl -X GET http://localhost:10010/api/auth/me \
  -H "Authorization: Bearer eyJhbGc..."
```

---

### æµ‹è¯•æµç¨‹B: å¹³å°ç®¡ç†å‘˜ç™»å½•

#### Step 1: å¹³å°ç®¡ç†å‘˜ç™»å½•
```bash
curl -X POST http://localhost:10010/api/auth/platform-login \
  -H "Content-Type: application/json" \
  -d '{
    "username": "platform_admin",
    "password": "admin123"
  }'
```

**é¢„æœŸå“åº”:**
```json
{
  "success": true,
  "message": "ç™»å½•æˆåŠŸ",
  "data": {
    "userId": 1,
    "username": "platform_admin",
    "realName": "ç³»ç»Ÿç®¡ç†å‘˜",
    "userType": "PLATFORM",
    "platformRole": "super_admin",
    "permissions": ["platform:all", "factory:all", ...],
    "accessToken": "eyJhbGc...",
    "refreshToken": "...",
    "tokenType": "Bearer",
    "expiresIn": 172800
  }
}
```

---

### æµ‹è¯•æµç¨‹C: ç§»åŠ¨ç«¯ä¸¤é˜¶æ®µæ³¨å†Œ

#### Step 1: å‘é€éªŒè¯ç 
```bash
curl -X POST http://localhost:10010/api/mobile/auth/send-code \
  -H "Content-Type: application/json" \
  -d '{"phoneNumber": "13800138001"}'
```

#### Step 2: æ³¨å†Œç¬¬ä¸€é˜¶æ®µï¼ˆéªŒè¯æ‰‹æœºå·ï¼‰
```bash
curl -X POST http://localhost:10010/api/mobile/auth/register-phase-one \
  -H "Content-Type: application/json" \
  -d '{
    "phoneNumber": "13800138001",
    "verificationCode": "123456",
    "factoryId": "F001"
  }'
```

**é¢„æœŸå“åº”:**
```json
{
  "success": true,
  "data": {
    "tempToken": "temp_xxxx...",
    "expiresAt": 1234567890000,
    "phoneNumber": "13800138001",
    "factoryId": "F001",
    "isNewUser": true,
    "message": "éªŒè¯æˆåŠŸï¼Œè¯·ç»§ç»­å¡«å†™æ³¨å†Œä¿¡æ¯"
  }
}
```

#### Step 3: æ³¨å†Œç¬¬äºŒé˜¶æ®µï¼ˆåˆ›å»ºè´¦æˆ·ï¼‰
```bash
curl -X POST http://localhost:10010/api/mobile/auth/register-phase-two \
  -H "Content-Type: application/json" \
  -d '{
    "tempToken": "temp_xxxx...",
    "factoryId": "F001",
    "username": "lisi_mobile",
    "password": "password123",
    "realName": "æå››",
    "email": "lisi@example.com",
    "position": "äº§å“ç»ç†"
  }'
```

**é¢„æœŸå“åº”:**
```json
{
  "success": true,
  "data": {
    "userId": 2,
    "username": "lisi_mobile",
    "factoryId": "F001",
    "role": "unactivated",
    "profile": {...},
    "token": "eyJhbGc...",
    "refreshToken": "...",
    "message": "æ³¨å†ŒæˆåŠŸï¼Œè¯·ç­‰å¾…ç®¡ç†å‘˜æ¿€æ´»æ‚¨çš„è´¦æˆ·",
    "registeredAt": "2025-10-10T12:00:00"
  }
}
```

---

### æµ‹è¯•æµç¨‹D: ç§»åŠ¨ç«¯ç™»å½•

#### Step 1: ç§»åŠ¨ç«¯ç»Ÿä¸€ç™»å½•
```bash
curl -X POST http://localhost:10010/api/mobile/auth/unified-login \
  -H "Content-Type: application/json" \
  -d '{
    "factoryId": "F001",
    "username": "lisi_mobile",
    "password": "password123"
  }'
```

**æ³¨æ„:** éœ€è¦å…ˆæ¿€æ´»ç”¨æˆ·ï¼ˆåŒæµ‹è¯•æµç¨‹Açš„Step 4ï¼‰

---

## äº”ã€Swaggeræµ‹è¯•

### 5.1 è®¿é—®Swagger UI

**URL:** http://localhost:10010/swagger-ui.html

### 5.2 Swaggeræµ‹è¯•æ­¥éª¤

#### 1. æ‰“å¼€Swaggerç•Œé¢
æµè§ˆå™¨è®¿é—®: `http://localhost:10010/swagger-ui.html`

#### 2. æ‰¾åˆ°Auth Controller
å±•å¼€ `auth-controller` æˆ–æœç´¢ `AuthController`

#### 3. æµ‹è¯•æ³¨å†Œæµç¨‹

**A. å‘é€éªŒè¯ç **
1. æ‰¾åˆ° `POST /api/auth/send-code`
2. ç‚¹å‡» "Try it out"
3. è¾“å…¥æ‰‹æœºå·: `13800138000`
4. ç‚¹å‡» "Execute"
5. æ£€æŸ¥Responseï¼ˆåº”è¯¥æˆåŠŸï¼‰
6. **æŸ¥çœ‹æœåŠ¡å™¨æ—¥å¿—è·å–éªŒè¯ç **

**B. éªŒè¯æ‰‹æœºå·**
1. æ‰¾åˆ° `POST /api/auth/verify-phone`
2. ç‚¹å‡» "Try it out"
3. å¡«å†™è¯·æ±‚ä½“:
```json
{
  "phoneNumber": "13800138000",
  "verificationCode": "ä»æ—¥å¿—ä¸­è·å–çš„éªŒè¯ç ",
  "factoryId": "F001"
}
```
4. ç‚¹å‡» "Execute"
5. **å¤åˆ¶è¿”å›çš„tempToken**

**C. å®Œæˆæ³¨å†Œ**
1. æ‰¾åˆ° `POST /api/auth/register`
2. ç‚¹å‡» "Try it out"
3. å¡«å†™è¯·æ±‚ä½“:
```json
{
  "tempToken": "ä¸Šä¸€æ­¥è·å–çš„tempToken",
  "factoryId": "F001",
  "username": "testuser001",
  "password": "password123",
  "realName": "æµ‹è¯•ç”¨æˆ·",
  "email": "test@example.com",
  "position": "æµ‹è¯•å·¥ç¨‹å¸ˆ"
}
```
4. ç‚¹å‡» "Execute"
5. æ£€æŸ¥Responseï¼ˆåº”è¯¥è¿”å›ç”¨æˆ·ä¿¡æ¯å’Œtokenï¼‰

**D. æ¿€æ´»ç”¨æˆ·**
```sql
UPDATE users
SET is_active = TRUE, role_code = 'operator'
WHERE username = 'testuser001';
```

**E. ç”¨æˆ·ç™»å½•**
1. æ‰¾åˆ° `POST /api/auth/login`
2. ç‚¹å‡» "Try it out"
3. å¡«å†™è¯·æ±‚ä½“:
```json
{
  "factoryId": "F001",
  "username": "testuser001",
  "password": "password123"
}
```
4. ç‚¹å‡» "Execute"
5. **å¤åˆ¶è¿”å›çš„accessToken**

**F. æµ‹è¯•è®¤è¯æ¥å£**
1. æ‰¾åˆ° `GET /api/auth/me`
2. ç‚¹å‡» "Try it out"
3. ç‚¹å‡»é¡µé¢é¡¶éƒ¨çš„ "Authorize" æŒ‰é’®
4. è¾“å…¥: `Bearer {ä½ çš„accessToken}`
5. ç‚¹å‡» "Authorize"
6. è¿”å›åˆ° `GET /api/auth/me`
7. ç‚¹å‡» "Execute"
8. åº”è¯¥è¿”å›å½“å‰ç”¨æˆ·ä¿¡æ¯

#### 4. æµ‹è¯•å¹³å°ç®¡ç†å‘˜ç™»å½•

1. æ‰¾åˆ° `POST /api/auth/platform-login`
2. ç‚¹å‡» "Try it out"
3. å¡«å†™è¯·æ±‚ä½“:
```json
{
  "username": "platform_admin",
  "password": "admin123"
}
```
4. ç‚¹å‡» "Execute"
5. åº”è¯¥è¿”å›ç®¡ç†å‘˜ä¿¡æ¯å’Œtoken

---

## å…­ã€å¸¸è§é—®é¢˜

### Q1: Redisè¿æ¥å¤±è´¥
```
Error creating bean with name 'redisTemplate'
```

**è§£å†³æ–¹æ¡ˆ:**
```bash
# å¯åŠ¨Redis
brew services start redis

# æˆ–
redis-server
```

### Q2: æ•°æ®åº“è¿æ¥å¤±è´¥
```
Communications link failure
```

**è§£å†³æ–¹æ¡ˆ:**
- æ£€æŸ¥æ•°æ®åº“æœåŠ¡æ˜¯å¦è¿è¡Œ
- æ£€æŸ¥é˜²ç«å¢™è®¾ç½®
- ç¡®è®¤æ•°æ®åº“é…ç½®æ­£ç¡®

### Q3: éªŒè¯ç æ²¡æœ‰è¿”å›

**è¯´æ˜:**
- éªŒè¯ç ä¸ä¼šåœ¨Responseä¸­è¿”å›ï¼ˆå®‰å…¨è€ƒè™‘ï¼‰
- å¼€å‘ç¯å¢ƒä¼šåœ¨**æœåŠ¡å™¨æ—¥å¿—**ä¸­æ‰“å°éªŒè¯ç 
- æŸ¥çœ‹æ§åˆ¶å°æ—¥å¿—æ‰¾åˆ°ç±»ä¼¼:
```
å‘é€éªŒè¯ç åˆ°æ‰‹æœºå·: 13800138000, éªŒè¯ç : 123456 (å¼€å‘ç¯å¢ƒï¼Œæœªå®é™…å‘é€)
```

### Q4: ä¸´æ—¶ä»¤ç‰Œè¿‡æœŸ
```
ä¸´æ—¶ä»¤ç‰Œæ— æ•ˆæˆ–å·²è¿‡æœŸï¼Œè¯·é‡æ–°éªŒè¯æ‰‹æœºå·
```

**è§£å†³æ–¹æ¡ˆ:**
- ä¸´æ—¶ä»¤ç‰Œæœ‰æ•ˆæœŸ30åˆ†é’Ÿ
- é‡æ–°æ‰§è¡Œverify-phoneè·å–æ–°çš„tempToken

### Q5: ç”¨æˆ·æœªæ¿€æ´»æ— æ³•ç™»å½•
```
ç”¨æˆ·è´¦å·å·²è¢«ç¦ç”¨
```

**è§£å†³æ–¹æ¡ˆ:**
```sql
UPDATE users
SET is_active = TRUE
WHERE username = 'ä½ çš„ç”¨æˆ·å';
```

### Q6: ç™½åå•ä¸å­˜åœ¨
```
è¯¥æ‰‹æœºå·æœªåœ¨ç™½åå•ä¸­ï¼Œæ— æ³•æ³¨å†Œ
```

**è§£å†³æ–¹æ¡ˆ:**
```sql
INSERT INTO whitelist (factory_id, phone_number, name, status, added_by)
VALUES ('F001', 'ä½ çš„æ‰‹æœºå·', 'å§“å', 'ACTIVE', 1);
```

### Q7: TokenéªŒè¯å¤±è´¥
```
401 Unauthorized
```

**è§£å†³æ–¹æ¡ˆ:**
- æ£€æŸ¥Authorizationå¤´æ ¼å¼: `Bearer {token}`
- ç¡®è®¤tokenæ²¡æœ‰è¿‡æœŸï¼ˆ24å°æ—¶ï¼‰
- ä½¿ç”¨refresh tokenåˆ·æ–°

---

## ä¸ƒã€æµ‹è¯•æ£€æŸ¥æ¸…å•

### âœ… å¯åŠ¨å‰å‡†å¤‡
- [ ] RedisæœåŠ¡å·²å¯åŠ¨
- [ ] MySQLæ•°æ®åº“è¿æ¥æ­£å¸¸
- [ ] platform_adminsè¡¨å·²åˆ›å»º
- [ ] æµ‹è¯•ç™½åå•æ•°æ®å·²æ’å…¥
- [ ] æµ‹è¯•å·¥å‚æ•°æ®å·²å­˜åœ¨

### âœ… åŠŸèƒ½æµ‹è¯•
- [ ] å‘é€éªŒè¯ç æˆåŠŸ
- [ ] éªŒè¯æ‰‹æœºå·æˆåŠŸ
- [ ] ç”¨æˆ·æ³¨å†ŒæˆåŠŸ
- [ ] ç”¨æˆ·ç™»å½•æˆåŠŸ
- [ ] è·å–ç”¨æˆ·ä¿¡æ¯æˆåŠŸ
- [ ] å¹³å°ç®¡ç†å‘˜ç™»å½•æˆåŠŸ
- [ ] Tokenåˆ·æ–°æˆåŠŸ
- [ ] ç§»åŠ¨ç«¯æ³¨å†ŒæˆåŠŸ
- [ ] ç§»åŠ¨ç«¯ç™»å½•æˆåŠŸ

### âœ… å®‰å…¨æµ‹è¯•
- [ ] æœªè®¤è¯è®¿é—®å—ä¿æŠ¤æ¥å£è¢«æ‹¦æˆª
- [ ] é”™è¯¯å¯†ç ç™»å½•å¤±è´¥
- [ ] è¿‡æœŸtokenè¢«æ‹’ç»
- [ ] æ— æ•ˆtokenè¢«æ‹’ç»

---

## å…«ã€å¿«é€Ÿæµ‹è¯•è„šæœ¬

ä¿å­˜ä¸º `test-auth.sh`:
```bash
#!/bin/bash

API_URL="http://localhost:10010"

echo "=== æµ‹è¯•1: å‘é€éªŒè¯ç  ==="
curl -X POST $API_URL/api/auth/send-code \
  -H "Content-Type: application/json" \
  -d '{"phoneNumber": "13800138000"}'
echo -e "\n"

echo "è¯·æŸ¥çœ‹æœåŠ¡å™¨æ—¥å¿—è·å–éªŒè¯ç ï¼Œç„¶åæ‰‹åŠ¨æµ‹è¯•åç»­æµç¨‹"
```

---

## ç»“è®º

æŒ‰ç…§æœ¬æ–‡æ¡£çš„æµç¨‹ï¼Œæ‚¨å¯ä»¥ï¼š
1. âœ… å®Œæˆç¯å¢ƒå‡†å¤‡å’Œå¯åŠ¨
2. âœ… ä½¿ç”¨curlå‘½ä»¤è¡Œæµ‹è¯•æ‰€æœ‰æ¥å£
3. âœ… ä½¿ç”¨Swagger UIè¿›è¡Œå¯è§†åŒ–æµ‹è¯•
4. âœ… éªŒè¯æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½æ­£å¸¸å·¥ä½œ

**é¢„æœŸç»“æœ**: æ‰€æœ‰ç™»å½•æ³¨å†ŒåŠŸèƒ½å®Œæ•´å¯ç”¨ï¼Œæµ‹è¯•å…¨éƒ¨é€šè¿‡ ğŸ‰
